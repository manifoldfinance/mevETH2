<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">src</li><li class="chapter-item "><a href="src/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/Errors.sol/interface.MevEthErrors.html">MevEthErrors</a></li><li class="chapter-item "><a href="src/interfaces/IAuth.sol/interface.IAuth.html">IAuth</a></li><li class="chapter-item "><a href="src/interfaces/IBeaconDepositContract.sol/interface.IBeaconDepositContract.html">IBeaconDepositContract</a></li><li class="chapter-item "><a href="src/interfaces/ICommonOFT.sol/interface.ICommonOFT.html">ICommonOFT</a></li><li class="chapter-item "><a href="src/interfaces/IERC20Burnable.sol/interface.IERC20Burnable.html">IERC20Burnable</a></li><li class="chapter-item "><a href="src/interfaces/IERC4626.sol/interface.IERC4626.html">IERC4626</a></li><li class="chapter-item "><a href="src/interfaces/ILayerZeroEndpoint.sol/interface.ILayerZeroEndpoint.html">ILayerZeroEndpoint</a></li><li class="chapter-item "><a href="src/interfaces/ILayerZeroReceiver.sol/interface.ILayerZeroReceiver.html">ILayerZeroReceiver</a></li><li class="chapter-item "><a href="src/interfaces/ILayerZeroUserApplicationConfig.sol/interface.ILayerZeroUserApplicationConfig.html">ILayerZeroUserApplicationConfig</a></li><li class="chapter-item "><a href="src/interfaces/IMevEth.sol/interface.IMevEth.html">IMevEth</a></li><li class="chapter-item "><a href="src/interfaces/IMevEthShareVault.sol/interface.IMevEthShareVault.html">IMevEthShareVault</a></li><li class="chapter-item "><a href="src/interfaces/IOFTReceiverV2.sol/interface.IOFTReceiverV2.html">IOFTReceiverV2</a></li><li class="chapter-item "><a href="src/interfaces/IOFTWithFee.sol/interface.IOFTWithFee.html">IOFTWithFee</a></li><li class="chapter-item "><a href="src/interfaces/IRateProvider.sol/interface.IRateProvider.html">IRateProvider</a></li><li class="chapter-item "><a href="src/interfaces/IStakingModule.sol/interface.IStakingModule.html">IStakingModule</a></li><li class="chapter-item "><a href="src/interfaces/ITinyMevEth.sol/interface.ITinyMevEth.html">ITinyMevEth</a></li></ol></li><li class="chapter-item "><a href="src/libraries/index.html">❱ libraries</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/libraries/Auth.sol/contract.Auth.html">Auth</a></li><li class="chapter-item "><a href="src/libraries/AuthManager.sol/contract.AuthManager.html">AuthManager</a></li></ol></li><li class="chapter-item "><a href="src/MevEth.sol/contract.MevEth.html">MevEth</a></li><li class="chapter-item "><a href="src/MevEthRateProvider.sol/contract.MevETHRateProvider.html">MevETHRateProvider</a></li><li class="chapter-item "><a href="src/MevEthShareVault.sol/contract.MevEthShareVault.html">MevEthShareVault</a></li><li class="chapter-item "><a href="src/WagyuStaker.sol/contract.WagyuStaker.html">WagyuStaker</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/manifoldfinance/mevETH2" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="getting-started"><a class="header" href="#getting-started">Getting started</a></h2>
<p>To make the most of this repository, you should have the following installed:</p>
<ul>
<li><a href="https://nixos.org/">Nix</a></li>
<li><a href="https://direnv.net/">Direnv</a></li>
</ul>
<p>After cloning this repository and entering inside, run <code>direnv allow</code> when prompted, and you will be met with following prompt.</p>
<pre><code class="language-terminal">🔨 Welcome to devshell

[build]

  check      - run all linters and build all packages

[deployments]

  deploy     - Deploy the Smart Contracts

[development]

  dev-net    - Run local Ethereum network for development

[docs]

  docs-build - build the docs and place them in result directory
  docs-serve - serve the docs

[formatting]

  fmt        - format the repo

[foundry]

  anvil      - A fast local Ethereum development node
  cast       - Perform Ethereum RPC calls from the comfort of your command line
  forge      - Build, test, fuzz, debug and deploy Solidity contracts

[general commands]

  menu       - prints this menu

[tests]

  tests      - Test the Smart Contracts

direnv: export +DEVSHELL_DIR +FOUNDRY_SOLC +IN_NIX_SHELL +NIXPKGS_PATH +PRJ_DATA_DIR +PRJ_ROOT +name ~PATH ~XDG_DATA_DIRS
</code></pre>
<p>The <code>lib</code> directory contains git-submodules which in turn also have submodules.
To update all submodules recursively, execute:</p>
<pre><code class="language-bash">git submodule update --init --recursive
</code></pre>
<h3 id="docs"><a class="header" href="#docs">Docs</a></h3>
<p>To build the docs locally, run <code>docs-build</code>. The output will be inside of <code>./result</code>.</p>
<p>Run <code>docs-serve</code> to serve the docs locally (after building them previously). You can edit the docs in <code>./docs</code>.</p>
<h3 id="running-tests"><a class="header" href="#running-tests">Running tests</a></h3>
<p>To run all tests, you can use <code>check</code> (alias for <code>nix flake check</code>); it will build all packages and run all tests.</p>
<p>You can use <code>tests -h</code> to execute a specific test, which will provide more information.</p>
<h3 id="formatting"><a class="header" href="#formatting">Formatting</a></h3>
<p>You can manually format the source using the <code>fmt</code> command.</p>
<h2 id="design-doc"><a class="header" href="#design-doc">Design Doc</a></h2>
<h1 id="meveth---maximizing-ethereum-value"><a class="header" href="#meveth---maximizing-ethereum-value">MevEth - Maximizing Ethereum Value</a></h1>
<p>The <code>MevEth</code> contract serves as a sophisticated platform for Liquid Staking Receipt (LSR) management, designed to optimize Ethereum value through efficient staking and reward distribution. This contract leverages multiple core modules to achieve its objectives, including admin control, staking management, share vault updates, ERC4626 integration, withdrawal queues and omni-chain tokens.</p>
<ul>
<li><a href="docs/index.html">Documentation for MevEth</a></li>
</ul>
<h2 id="core-modules-and-functionality"><a class="header" href="#core-modules-and-functionality">Core Modules and Functionality</a></h2>
<p>The <code>MevEth</code> contract comprises several core modules, each contributing to its comprehensive functionality:</p>
<ul>
<li><strong>Accounting</strong>: Transparent fractional accounting system</li>
<li><strong>Admin Control Panel</strong>: Empowers administrators with control over staking, module updates, and share vault management.</li>
<li><strong>Staking Management</strong>: Allows efficient staking of Ether in the Beacon Chain, ensuring validators' registration and interaction with the staking module.</li>
<li><strong>Share Vault Updates</strong>: Facilitates seamless updates to the MevEth share vault, ensuring accurate reward distribution and protocol management.</li>
<li><strong>Role management</strong>: Supports roles management</li>
<li><strong>ERC4626 Integration</strong>: Supports ERC4626 interface for yield source integration, enabling compatibility with Yearn Vault and other protocols.</li>
<li><strong>Withdrawal Queues</strong>: First come, first served queues for withdrawal requests beyond buffer balances</li>
<li><strong>Omni-chain fungible tokens</strong>: Allows <code>MevEth</code> tokens to be sent accross chains</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/interfaces/Errors.sol/interface.MevEthErrors.html">MevEthErrors</a></li>
<li><a href="src/interfaces/IAuth.sol/interface.IAuth.html">IAuth</a></li>
<li><a href="src/interfaces/IBeaconDepositContract.sol/interface.IBeaconDepositContract.html">IBeaconDepositContract</a></li>
<li><a href="src/interfaces/ICommonOFT.sol/interface.ICommonOFT.html">ICommonOFT</a></li>
<li><a href="src/interfaces/IERC20Burnable.sol/interface.IERC20Burnable.html">IERC20Burnable</a></li>
<li><a href="src/interfaces/IERC4626.sol/interface.IERC4626.html">IERC4626</a></li>
<li><a href="src/interfaces/ILayerZeroEndpoint.sol/interface.ILayerZeroEndpoint.html">ILayerZeroEndpoint</a></li>
<li><a href="src/interfaces/ILayerZeroReceiver.sol/interface.ILayerZeroReceiver.html">ILayerZeroReceiver</a></li>
<li><a href="src/interfaces/ILayerZeroUserApplicationConfig.sol/interface.ILayerZeroUserApplicationConfig.html">ILayerZeroUserApplicationConfig</a></li>
<li><a href="src/interfaces/IMevEth.sol/interface.IMevEth.html">IMevEth</a></li>
<li><a href="src/interfaces/IMevEthShareVault.sol/interface.IMevEthShareVault.html">IMevEthShareVault</a></li>
<li><a href="src/interfaces/IOFTReceiverV2.sol/interface.IOFTReceiverV2.html">IOFTReceiverV2</a></li>
<li><a href="src/interfaces/IOFTWithFee.sol/interface.IOFTWithFee.html">IOFTWithFee</a></li>
<li><a href="src/interfaces/IRateProvider.sol/interface.IRateProvider.html">IRateProvider</a></li>
<li><a href="src/interfaces/IStakingModule.sol/interface.IStakingModule.html">IStakingModule</a></li>
<li><a href="src/interfaces/ITinyMevEth.sol/interface.ITinyMevEth.html">ITinyMevEth</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mevetherrors"><a class="header" href="#mevetherrors">MevEthErrors</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/Errors.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="stakingpaused"><a class="header" href="#stakingpaused">StakingPaused</a></h3>
<p>Errors</p>
<pre><code class="language-solidity">error StakingPaused();
</code></pre>
<h3 id="notenougheth"><a class="header" href="#notenougheth">NotEnoughEth</a></h3>
<pre><code class="language-solidity">error NotEnoughEth();
</code></pre>
<h3 id="zerovalue"><a class="header" href="#zerovalue">ZeroValue</a></h3>
<pre><code class="language-solidity">error ZeroValue();
</code></pre>
<h3 id="invalidoperator"><a class="header" href="#invalidoperator">InvalidOperator</a></h3>
<pre><code class="language-solidity">error InvalidOperator();
</code></pre>
<h3 id="deposittoosmall"><a class="header" href="#deposittoosmall">DepositTooSmall</a></h3>
<pre><code class="language-solidity">error DepositTooSmall();
</code></pre>
<h3 id="invalidsender"><a class="header" href="#invalidsender">InvalidSender</a></h3>
<pre><code class="language-solidity">error InvalidSender();
</code></pre>
<h3 id="prematurestakingmoduleupdatefinalization"><a class="header" href="#prematurestakingmoduleupdatefinalization">PrematureStakingModuleUpdateFinalization</a></h3>
<pre><code class="language-solidity">error PrematureStakingModuleUpdateFinalization();
</code></pre>
<h3 id="prematuremevethsharevaultupdatefinalization"><a class="header" href="#prematuremevethsharevaultupdatefinalization">PrematureMevEthShareVaultUpdateFinalization</a></h3>
<pre><code class="language-solidity">error PrematureMevEthShareVaultUpdateFinalization();
</code></pre>
<h3 id="invalidpendingstakingmodule"><a class="header" href="#invalidpendingstakingmodule">InvalidPendingStakingModule</a></h3>
<pre><code class="language-solidity">error InvalidPendingStakingModule();
</code></pre>
<h3 id="invalidpendingmevethsharevault"><a class="header" href="#invalidpendingmevethsharevault">InvalidPendingMevEthShareVault</a></h3>
<pre><code class="language-solidity">error InvalidPendingMevEthShareVault();
</code></pre>
<h3 id="transferexceedsallowance"><a class="header" href="#transferexceedsallowance">TransferExceedsAllowance</a></h3>
<pre><code class="language-solidity">error TransferExceedsAllowance();
</code></pre>
<h3 id="transferfailed"><a class="header" href="#transferfailed">TransferFailed</a></h3>
<pre><code class="language-solidity">error TransferFailed();
</code></pre>
<h3 id="zeroaddress"><a class="header" href="#zeroaddress">ZeroAddress</a></h3>
<pre><code class="language-solidity">error ZeroAddress();
</code></pre>
<h3 id="alreadyinitialized"><a class="header" href="#alreadyinitialized">AlreadyInitialized</a></h3>
<pre><code class="language-solidity">error AlreadyInitialized();
</code></pre>
<h3 id="senderror"><a class="header" href="#senderror">SendError</a></h3>
<pre><code class="language-solidity">error SendError();
</code></pre>
<h3 id="feestoohigh"><a class="header" href="#feestoohigh">FeesTooHigh</a></h3>
<pre><code class="language-solidity">error FeesTooHigh();
</code></pre>
<h3 id="wrongdepositamount"><a class="header" href="#wrongdepositamount">WrongDepositAmount</a></h3>
<pre><code class="language-solidity">error WrongDepositAmount();
</code></pre>
<h3 id="wrongwithdrawamount"><a class="header" href="#wrongwithdrawamount">WrongWithdrawAmount</a></h3>
<pre><code class="language-solidity">error WrongWithdrawAmount();
</code></pre>
<h3 id="unauthorizedcaller"><a class="header" href="#unauthorizedcaller">UnAuthorizedCaller</a></h3>
<pre><code class="language-solidity">error UnAuthorizedCaller();
</code></pre>
<h3 id="withdrawtoosmall"><a class="header" href="#withdrawtoosmall">WithdrawTooSmall</a></h3>
<pre><code class="language-solidity">error WithdrawTooSmall();
</code></pre>
<h3 id="notfinalised"><a class="header" href="#notfinalised">NotFinalised</a></h3>
<pre><code class="language-solidity">error NotFinalised();
</code></pre>
<h3 id="alreadyclaimed"><a class="header" href="#alreadyclaimed">AlreadyClaimed</a></h3>
<pre><code class="language-solidity">error AlreadyClaimed();
</code></pre>
<h3 id="alreadyfinalised"><a class="header" href="#alreadyfinalised">AlreadyFinalised</a></h3>
<pre><code class="language-solidity">error AlreadyFinalised();
</code></pre>
<h3 id="indexexceedsqueuelength"><a class="header" href="#indexexceedsqueuelength">IndexExceedsQueueLength</a></h3>
<pre><code class="language-solidity">error IndexExceedsQueueLength();
</code></pre>
<h3 id="depositwasfrontrun"><a class="header" href="#depositwasfrontrun">DepositWasFrontrun</a></h3>
<pre><code class="language-solidity">error DepositWasFrontrun();
</code></pre>
<h3 id="sandwichprotection"><a class="header" href="#sandwichprotection">SandwichProtection</a></h3>
<pre><code class="language-solidity">error SandwichProtection();
</code></pre>
<h3 id="nonzerovaultbalance"><a class="header" href="#nonzerovaultbalance">NonZeroVaultBalance</a></h3>
<pre><code class="language-solidity">error NonZeroVaultBalance();
</code></pre>
<h3 id="alreadydeposited"><a class="header" href="#alreadydeposited">AlreadyDeposited</a></h3>
<pre><code class="language-solidity">error AlreadyDeposited();
</code></pre>
<h3 id="incorrectwithdrawalcredentials"><a class="header" href="#incorrectwithdrawalcredentials">IncorrectWithdrawalCredentials</a></h3>
<pre><code class="language-solidity">error IncorrectWithdrawalCredentials();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iauth"><a class="header" href="#iauth">IAuth</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IAuth.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="addadmin"><a class="header" href="#addadmin">addAdmin</a></h3>
<p>Adds an admin to the contract.</p>
<p><em>Only existing admins can add new admins.</em></p>
<pre><code class="language-solidity">function addAdmin(address newAdmin) external;
</code></pre>
<h3 id="addoperator"><a class="header" href="#addoperator">addOperator</a></h3>
<p>This function adds a new operator to the contract.</p>
<p><em>This function adds a new operator to the contract. It is only callable by the contract owner. The new operator must be a valid Ethereum address.</em></p>
<pre><code class="language-solidity">function addOperator(address newOperator) external;
</code></pre>
<h3 id="admins"><a class="header" href="#admins">admins</a></h3>
<p>This function is used to check if an address is an admin.</p>
<p><em>This function is used to check if an address is an admin. It takes an address as an argument and returns a boolean value.</em></p>
<pre><code class="language-solidity">function admins(address) external view returns (bool);
</code></pre>
<h3 id="deleteadmin"><a class="header" href="#deleteadmin">deleteAdmin</a></h3>
<p>This function is used to delete an admin from the list of admins.</p>
<p><em>This function requires the address of the admin to be deleted. It will delete the admin from the list of admins.</em></p>
<pre><code class="language-solidity">function deleteAdmin(address oldAdmin) external;
</code></pre>
<h3 id="deleteoperator"><a class="header" href="#deleteoperator">deleteOperator</a></h3>
<p>This function is used to delete an operator from the contract.</p>
<p><em>This function is called by the owner of the contract to delete an operator from the contract. The address of the operator to be deleted is passed as
an argument.</em></p>
<pre><code class="language-solidity">function deleteOperator(address oldOperator) external;
</code></pre>
<h3 id="operators"><a class="header" href="#operators">operators</a></h3>
<p>This function checks if the given address is an operator.</p>
<p><em>This function is used to check if the given address is an operator. It returns a boolean value indicating whether the address is an operator or not.</em></p>
<pre><code class="language-solidity">function operators(address) external view returns (bool);
</code></pre>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="adminadded"><a class="header" href="#adminadded">AdminAdded</a></h3>
<pre><code class="language-solidity">event AdminAdded(address indexed newAdmin);
</code></pre>
<h3 id="admindeleted"><a class="header" href="#admindeleted">AdminDeleted</a></h3>
<pre><code class="language-solidity">event AdminDeleted(address indexed oldAdmin);
</code></pre>
<h3 id="operatoradded"><a class="header" href="#operatoradded">OperatorAdded</a></h3>
<pre><code class="language-solidity">event OperatorAdded(address indexed newOperator);
</code></pre>
<h3 id="operatordeleted"><a class="header" href="#operatordeleted">OperatorDeleted</a></h3>
<pre><code class="language-solidity">event OperatorDeleted(address indexed oldOperator);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibeacondepositcontract"><a class="header" href="#ibeacondepositcontract">IBeaconDepositContract</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IBeaconDepositContract.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="deposit"><a class="header" href="#deposit">deposit</a></h3>
<p>Submit a Phase 0 DepositData object.</p>
<pre><code class="language-solidity">function deposit(bytes calldata pubkey, bytes calldata withdrawal_credentials, bytes calldata signature, bytes32 deposit_data_root) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>pubkey</code></td><td><code>bytes</code></td><td>A BLS12-381 public key.</td></tr>
<tr><td><code>withdrawal_credentials</code></td><td><code>bytes</code></td><td>Commitment to a public key for withdrawals.</td></tr>
<tr><td><code>signature</code></td><td><code>bytes</code></td><td>A BLS12-381 signature.</td></tr>
<tr><td><code>deposit_data_root</code></td><td><code>bytes32</code></td><td>The SHA-256 hash of the SSZ-encoded DepositData object. Used as a protection against malformed input.</td></tr>
</tbody></table>
</div>
<h3 id="get_deposit_root"><a class="header" href="#get_deposit_root">get_deposit_root</a></h3>
<p>Query the current deposit root hash.</p>
<pre><code class="language-solidity">function get_deposit_root() external view returns (bytes32);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>The deposit root hash.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="icommonoft"><a class="header" href="#icommonoft">ICommonOFT</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/ICommonOFT.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC165</p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<p><em>Interface of the IOFT core standard</em></p>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="estimatesendfee"><a class="header" href="#estimatesendfee">estimateSendFee</a></h3>
<p><em>estimate send token <code>_tokenId</code> to (<code>_dstChainId</code>, <code>_toAddress</code>)
_dstChainId - L0 defined chain id to send tokens too
_toAddress - dynamic bytes array which contains the address to whom you are sending tokens to on the dstChain
_amount - amount of the tokens to transfer
_useZro - indicates to use zro to pay L0 fees
_adapterParam - flexible bytes array to indicate messaging adapter services in L0</em></p>
<pre><code class="language-solidity">function estimateSendFee(
    uint16 _dstChainId,
    bytes32 _toAddress,
    uint256 _amount,
    bool _useZro,
    bytes calldata _adapterParams
)
    external
    view
    returns (uint256 nativeFee, uint256 zroFee);
</code></pre>
<h3 id="circulatingsupply"><a class="header" href="#circulatingsupply">circulatingSupply</a></h3>
<p><em>returns the circulating amount of tokens on current chain</em></p>
<pre><code class="language-solidity">function circulatingSupply() external view returns (uint256);
</code></pre>
<h3 id="token"><a class="header" href="#token">token</a></h3>
<p><em>returns the address of the ERC20 token</em></p>
<pre><code class="language-solidity">function token() external view returns (address);
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="lzcallparams"><a class="header" href="#lzcallparams">LzCallParams</a></h3>
<pre><code class="language-solidity">struct LzCallParams {
    address payable refundAddress;
    address zroPaymentAddress;
    bytes adapterParams;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20burnable"><a class="header" href="#ierc20burnable">IERC20Burnable</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IERC20Burnable.sol">Git Source</a></p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="burnfrom"><a class="header" href="#burnfrom">burnFrom</a></h3>
<pre><code class="language-solidity">function burnFrom(address account, uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc4626"><a class="header" href="#ierc4626">IERC4626</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IERC4626.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="asset"><a class="header" href="#asset">asset</a></h3>
<pre><code class="language-solidity">function asset() external view returns (address assetTokenAddress);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetTokenAddress</code></td><td><code>address</code></td><td>The address of the asset token</td></tr>
</tbody></table>
</div>
<h3 id="totalassets"><a class="header" href="#totalassets">totalAssets</a></h3>
<pre><code class="language-solidity">function totalAssets() external view returns (uint256 totalManagedAssets);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalManagedAssets</code></td><td><code>uint256</code></td><td>The amount of eth controlled by the vault</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares"><a class="header" href="#converttoshares">convertToShares</a></h3>
<pre><code class="language-solidity">function convertToShares(uint256 assets) external view returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets to convert to shares</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The value of the given assets in shares</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets"><a class="header" href="#converttoassets">convertToAssets</a></h3>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) external view returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares to convert to assets</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The value of the given shares in assets</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit"><a class="header" href="#maxdeposit">maxDeposit</a></h3>
<pre><code class="language-solidity">function maxDeposit(address reciever) external view returns (uint256 maxAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>reciever</code></td><td><code>address</code></td><td>The address in question of who would be depositing, doesn't matter in this case</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxAssets</code></td><td><code>uint256</code></td><td>The maximum amount of assets that can be deposited</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit"><a class="header" href="#previewdeposit">previewDeposit</a></h3>
<pre><code class="language-solidity">function previewDeposit(uint256 assets) external view returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that would be deposited</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that would be minted, <em>under ideal conditions</em> only</td></tr>
</tbody></table>
</div>
<h3 id="deposit-1"><a class="header" href="#deposit-1">deposit</a></h3>
<pre><code class="language-solidity">function deposit(uint256 assets, address receiver) external payable returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of WETH which should be deposited</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should recieve the mevEth out</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="maxmint"><a class="header" href="#maxmint">maxMint</a></h3>
<pre><code class="language-solidity">function maxMint(address reciever) external view returns (uint256 maxShares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>reciever</code></td><td><code>address</code></td><td>The address in question of who would be minting, doesn't matter in this case</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxShares</code></td><td><code>uint256</code></td><td>The maximum amount of shares that can be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewmint"><a class="header" href="#previewmint">previewMint</a></h3>
<pre><code class="language-solidity">function previewMint(uint256 shares) external view returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that would be minted</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that would be required, <em>under ideal conditions</em> only</td></tr>
</tbody></table>
</div>
<h3 id="mint"><a class="header" href="#mint">mint</a></h3>
<pre><code class="language-solidity">function mint(uint256 shares, address receiver) external payable returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that should be minted</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should recieve the mevEth out</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets deposited</td></tr>
</tbody></table>
</div>
<h3 id="maxwithdraw"><a class="header" href="#maxwithdraw">maxWithdraw</a></h3>
<pre><code class="language-solidity">function maxWithdraw(address owner) external view returns (uint256 maxAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address in question of who would be withdrawing</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxAssets</code></td><td><code>uint256</code></td><td>The maximum amount of assets that can be withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw"><a class="header" href="#previewwithdraw">previewWithdraw</a></h3>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets) external view returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that would be withdrawn</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that would be burned, <em>under ideal conditions</em> only</td></tr>
</tbody></table>
</div>
<h3 id="withdraw"><a class="header" href="#withdraw">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 assets, address receiver, address owner) external returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that should be withdrawn</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should recieve the mevEth out</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the owner of the mevEth</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares burned</td></tr>
</tbody></table>
</div>
<h3 id="maxredeem"><a class="header" href="#maxredeem">maxRedeem</a></h3>
<pre><code class="language-solidity">function maxRedeem(address owner) external view returns (uint256 maxShares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address in question of who would be redeeming their shares</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxShares</code></td><td><code>uint256</code></td><td>The maximum amount of shares they could redeem</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem"><a class="header" href="#previewredeem">previewRedeem</a></h3>
<pre><code class="language-solidity">function previewRedeem(uint256 shares) external view returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that would be burned</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that would be withdrawn, <em>under ideal conditions</em> only</td></tr>
</tbody></table>
</div>
<h3 id="redeem"><a class="header" href="#redeem">redeem</a></h3>
<pre><code class="language-solidity">function redeem(uint256 shares, address receiver, address owner) external returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that should be burned</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should recieve the wETH out</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the owner of the mevEth</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets withdrawn</td></tr>
</tbody></table>
</div>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="deposit-2"><a class="header" href="#deposit-2">Deposit</a></h3>
<p><em>Emitted when a deposit is made, either through mint or deposit</em></p>
<pre><code class="language-solidity">event Deposit(address indexed caller, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<h3 id="withdraw-1"><a class="header" href="#withdraw-1">Withdraw</a></h3>
<p><em>Emitted when a withdrawal is made, either through redeem or withdraw</em></p>
<pre><code class="language-solidity">event Withdraw(address indexed caller, address indexed receiver, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzeroendpoint"><a class="header" href="#ilayerzeroendpoint">ILayerZeroEndpoint</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/ILayerZeroEndpoint.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/interfaces/ILayerZeroEndpoint.sol//gh-pages/src/src/interfaces/ILayerZeroUserApplicationConfig.sol/interface.ILayerZeroUserApplicationConfig.html">ILayerZeroUserApplicationConfig</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="send"><a class="header" href="#send">send</a></h3>
<p>This function is used to send a payload to a destination on a different chain.</p>
<p>*The function takes in the following parameters:</p>
<ul>
<li>_dstChainId: The ID of the destination chain.</li>
<li>_destination: The address of the destination on the destination chain.</li>
<li>_payload: The payload to be sent.</li>
<li>_refundAddress: The address to which the funds should be refunded in case of failure.</li>
<li>_zroPaymentAddress: The address of the ZROPayment contract.</li>
<li>_adapterParams: The parameters to be passed to the adapter.*</li>
</ul>
<pre><code class="language-solidity">function send(
    uint16 _dstChainId,
    bytes calldata _destination,
    bytes calldata _payload,
    address payable _refundAddress,
    address _zroPaymentAddress,
    bytes calldata _adapterParams
)
    external
    payable;
</code></pre>
<h3 id="receivepayload"><a class="header" href="#receivepayload">receivePayload</a></h3>
<p><em>receivePayload is used to receive payloads from other chains.</em></p>
<pre><code class="language-solidity">function receivePayload(
    uint16 _srcChainId,
    bytes calldata _srcAddress,
    address _dstAddress,
    uint64 _nonce,
    uint256 _gasLimit,
    bytes calldata _payload
)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_srcChainId</code></td><td><code>uint16</code></td><td>The source chain ID.</td></tr>
<tr><td><code>_srcAddress</code></td><td><code>bytes</code></td><td>The source address.</td></tr>
<tr><td><code>_dstAddress</code></td><td><code>address</code></td><td>The destination address.</td></tr>
<tr><td><code>_nonce</code></td><td><code>uint64</code></td><td>The nonce of the transaction.</td></tr>
<tr><td><code>_gasLimit</code></td><td><code>uint256</code></td><td>The gas limit of the transaction.</td></tr>
<tr><td><code>_payload</code></td><td><code>bytes</code></td><td>The payload of the transaction.</td></tr>
</tbody></table>
</div>
<h3 id="getinboundnonce"><a class="header" href="#getinboundnonce">getInboundNonce</a></h3>
<p>getInboundNonce() is a function that returns the inbound nonce of a given source chain and address.</p>
<p><em>getInboundNonce() takes two parameters: _srcChainId and _srcAddress. The _srcChainId is a uint16 representing the source chain ID and the
_srcAddress is a bytes calldata representing the source address. The function returns a uint64 representing the inbound nonce.</em></p>
<pre><code class="language-solidity">function getInboundNonce(uint16 _srcChainId, bytes calldata _srcAddress) external view returns (uint64);
</code></pre>
<h3 id="getoutboundnonce"><a class="header" href="#getoutboundnonce">getOutboundNonce</a></h3>
<pre><code class="language-solidity">function getOutboundNonce(uint16 _dstChainId, address _srcAddress) external view returns (uint64);
</code></pre>
<h3 id="estimatefees"><a class="header" href="#estimatefees">estimateFees</a></h3>
<p>This function estimates the fees for a cross-chain transaction.</p>
<p><em>The function takes in the destination chain ID, user application address, payload, boolean value for whether to pay in ZRO, and adapter parameter as
input. It returns the native fee and ZRO fee as output.</em></p>
<pre><code class="language-solidity">function estimateFees(
    uint16 _dstChainId,
    address _userApplication,
    bytes calldata _payload,
    bool _payInZRO,
    bytes calldata _adapterParam
)
    external
    view
    returns (uint256 nativeFee, uint256 zroFee);
</code></pre>
<h3 id="getchainid"><a class="header" href="#getchainid">getChainId</a></h3>
<p>getChainId()</p>
<p><em>Returns the chain ID of the current blockchain.</em></p>
<pre><code class="language-solidity">function getChainId() external view returns (uint16);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint16</code></td><td>uint16 - The chain ID of the current blockchain.</td></tr>
</tbody></table>
</div>
<h3 id="retrypayload"><a class="header" href="#retrypayload">retryPayload</a></h3>
<p><em>retryPayload is used to retry a payload from a source chain to a destination chain.</em></p>
<pre><code class="language-solidity">function retryPayload(uint16 _srcChainId, bytes calldata _srcAddress, bytes calldata _payload) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_srcChainId</code></td><td><code>uint16</code></td><td>The source chain ID.</td></tr>
<tr><td><code>_srcAddress</code></td><td><code>bytes</code></td><td>The source address.</td></tr>
<tr><td><code>_payload</code></td><td><code>bytes</code></td><td>The payload to be retried.</td></tr>
</tbody></table>
</div>
<h3 id="hasstoredpayload"><a class="header" href="#hasstoredpayload">hasStoredPayload</a></h3>
<pre><code class="language-solidity">function hasStoredPayload(uint16 _srcChainId, bytes calldata _srcAddress) external view returns (bool);
</code></pre>
<h3 id="getsendlibraryaddress"><a class="header" href="#getsendlibraryaddress">getSendLibraryAddress</a></h3>
<pre><code class="language-solidity">function getSendLibraryAddress(address _userApplication) external view returns (address);
</code></pre>
<h3 id="getreceivelibraryaddress"><a class="header" href="#getreceivelibraryaddress">getReceiveLibraryAddress</a></h3>
<pre><code class="language-solidity">function getReceiveLibraryAddress(address _userApplication) external view returns (address);
</code></pre>
<h3 id="issendingpayload"><a class="header" href="#issendingpayload">isSendingPayload</a></h3>
<p>This function checks if a payload is being sent.</p>
<p><em>This function is used to check if a payload is being sent. It returns a boolean value.</em></p>
<pre><code class="language-solidity">function isSendingPayload() external view returns (bool);
</code></pre>
<h3 id="isreceivingpayload"><a class="header" href="#isreceivingpayload">isReceivingPayload</a></h3>
<pre><code class="language-solidity">function isReceivingPayload() external view returns (bool);
</code></pre>
<h3 id="getconfig"><a class="header" href="#getconfig">getConfig</a></h3>
<p>getConfig() is a function that allows users to retrieve a configuration from the contract.</p>
<p><em>getConfig() takes four parameters: _version, _chainId, _userApplication, and _configType. It returns a bytes memory containing the configuration.</em></p>
<pre><code class="language-solidity">function getConfig(uint16 _version, uint16 _chainId, address _userApplication, uint256 _configType) external view returns (bytes memory);
</code></pre>
<h3 id="getsendversion"><a class="header" href="#getsendversion">getSendVersion</a></h3>
<p>getSendVersion() is a function that returns the version of the user application.</p>
<p><em>getSendVersion() takes in an address of the user application and returns a uint16 value representing the version of the user application.</em></p>
<pre><code class="language-solidity">function getSendVersion(address _userApplication) external view returns (uint16);
</code></pre>
<h3 id="getreceiveversion"><a class="header" href="#getreceiveversion">getReceiveVersion</a></h3>
<p>This function returns the version of the user application.</p>
<p><em>This function is used to get the version of the user application. It takes in an address of the user application and returns a uint16 representing
the version of the user application.</em></p>
<pre><code class="language-solidity">function getReceiveVersion(address _userApplication) external view returns (uint16);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzeroreceiver"><a class="header" href="#ilayerzeroreceiver">ILayerZeroReceiver</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/ILayerZeroReceiver.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="lzreceive"><a class="header" href="#lzreceive">lzReceive</a></h3>
<p>This function is used to receive data from a different chain.</p>
<p>*This function takes in four parameters:</p>
<ul>
<li>_srcChainId: The ID of the source chain.</li>
<li>_srcAddress: The address of the source chain.</li>
<li>_nonce: A unique identifier for the transaction.</li>
<li>_payload: The data to be received.*</li>
</ul>
<pre><code class="language-solidity">function lzReceive(uint16 _srcChainId, bytes calldata _srcAddress, uint64 _nonce, bytes calldata _payload) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzerouserapplicationconfig"><a class="header" href="#ilayerzerouserapplicationconfig">ILayerZeroUserApplicationConfig</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/ILayerZeroUserApplicationConfig.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="setconfig"><a class="header" href="#setconfig">setConfig</a></h3>
<p>This function sets the configuration of the contract.</p>
<p>*This function sets the configuration of the contract. It takes in four parameters:</p>
<ul>
<li>_version: The version of the configuration.</li>
<li>_chainId: The chain ID of the configuration.</li>
<li>_configType: The type of configuration.</li>
<li>_config: The configuration data.*</li>
</ul>
<pre><code class="language-solidity">function setConfig(uint16 _version, uint16 _chainId, uint256 _configType, bytes calldata _config) external;
</code></pre>
<h3 id="setsendversion"><a class="header" href="#setsendversion">setSendVersion</a></h3>
<pre><code class="language-solidity">function setSendVersion(uint16 _version) external;
</code></pre>
<h3 id="setreceiveversion"><a class="header" href="#setreceiveversion">setReceiveVersion</a></h3>
<p>Sets the version of the receive protocol.</p>
<p><em>This function sets the version of the receive protocol. It is used to ensure that the protocol is up to date.</em></p>
<pre><code class="language-solidity">function setReceiveVersion(uint16 _version) external;
</code></pre>
<h3 id="forceresumereceive"><a class="header" href="#forceresumereceive">forceResumeReceive</a></h3>
<p>This function is used to force resume receive on a given source chain and address.</p>
<p><em>This function is used to force resume receive on a given source chain and address. It takes two parameters, _srcChainId and _srcAddress. _srcChainId
is a uint16 representing the source chain ID and _srcAddress is a bytes calldata representing the source address. This function is only callable by the
owner of the contract.</em></p>
<pre><code class="language-solidity">function forceResumeReceive(uint16 _srcChainId, bytes calldata _srcAddress) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imeveth"><a class="header" href="#imeveth">IMevEth</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IMevEth.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="converttoassets-1"><a class="header" href="#converttoassets-1">convertToAssets</a></h3>
<p>convertToAssets()</p>
<p><em>Converts a given number of shares to assets.</em></p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares to convert.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The number of assets.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="imevethsharevault"><a class="header" href="#imevethsharevault">IMevEthShareVault</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IMevEthShareVault.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="payrewards"><a class="header" href="#payrewards">payRewards</a></h3>
<p>!
The receive function handles mev/validator payments.
If if the msg.sender is the block.coinbase, a <code>ValditorPayment</code> should be emitted
The profits (less fees) should be updated based on the median validator payment.
Otherwise, a MevPayment should be emitted and the fees/profits should be updated based on the medianMevPayment.
payRewards()</p>
<p>Function to send rewards to MevEth Contract.</p>
<p><em>This function is triggered by the owner of the contract and is used to pay rewards to MevETH Contract.
In the case of failure, this function sends the funds to the Admin as a fallback.</em></p>
<pre><code class="language-solidity">function payRewards(uint256 rewards) external;
</code></pre>
<h3 id="recovertoken"><a class="header" href="#recovertoken">recoverToken</a></h3>
<pre><code class="language-solidity">function recoverToken(address token, address recipient, uint256 amount) external;
</code></pre>
<h3 id="sendfees"><a class="header" href="#sendfees">sendFees</a></h3>
<p>sendFees()</p>
<p>This function should only be called by the contract owner.</p>
<p><em>Function to send fees to the contract owner.</em></p>
<pre><code class="language-solidity">function sendFees(uint256 fees) external;
</code></pre>
<h3 id="setprotocolfeeto"><a class="header" href="#setprotocolfeeto">setProtocolFeeTo</a></h3>
<pre><code class="language-solidity">function setProtocolFeeTo(address newFeeTo) external;
</code></pre>
<h3 id="setnewmeveth"><a class="header" href="#setnewmeveth">setNewMevEth</a></h3>
<p>setNewMevEth()</p>
<p>Sets the newMevEth address</p>
<p><em>This function sets the newMevEth address to the address passed in as an argument. This address will be used to store the MEV-ETH tokens.</em></p>
<pre><code class="language-solidity">function setNewMevEth(address newMevEth) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ioftreceiverv2"><a class="header" href="#ioftreceiverv2">IOFTReceiverV2</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IOFTReceiverV2.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="onoftreceived"><a class="header" href="#onoftreceived">onOFTReceived</a></h3>
<p><em>Called by the OFT contract when tokens are received from source chain.</em></p>
<pre><code class="language-solidity">function onOFTReceived(uint16 _srcChainId, bytes calldata _srcAddress, uint64 _nonce, bytes32 _from, uint256 _amount, bytes calldata _payload) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_srcChainId</code></td><td><code>uint16</code></td><td>The chain id of the source chain.</td></tr>
<tr><td><code>_srcAddress</code></td><td><code>bytes</code></td><td>The address of the OFT token contract on the source chain.</td></tr>
<tr><td><code>_nonce</code></td><td><code>uint64</code></td><td>The nonce of the transaction on the source chain.</td></tr>
<tr><td><code>_from</code></td><td><code>bytes32</code></td><td>The address of the account who calls the sendAndCall() on the source chain.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to transfer.</td></tr>
<tr><td><code>_payload</code></td><td><code>bytes</code></td><td>Additional data with no specified format.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ioftwithfee"><a class="header" href="#ioftwithfee">IOFTWithFee</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IOFTWithFee.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/interfaces/IOFTWithFee.sol//gh-pages/src/src/interfaces/ICommonOFT.sol/interface.ICommonOFT.html">ICommonOFT</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<p><em>Interface of the IOFT core standard</em></p>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="sendfrom"><a class="header" href="#sendfrom">sendFrom</a></h3>
<p><em>send <code>_amount</code> amount of token to (<code>_dstChainId</code>, <code>_toAddress</code>) from <code>_from</code>
<code>_from</code> the owner of token
<code>_dstChainId</code> the destination chain identifier
<code>_toAddress</code> can be any size depending on the <code>dstChainId</code>.
<code>_amount</code> the quantity of tokens in wei
<code>_minAmount</code> the minimum amount of tokens to receive on dstChain
<code>_refundAddress</code> the address LayerZero refunds if too much message fee is sent
<code>_zroPaymentAddress</code> set to address(0x0) if not paying in ZRO (LayerZero Token)
<code>_adapterParams</code> is a flexible bytes array to indicate messaging adapter services</em></p>
<pre><code class="language-solidity">function sendFrom(
    address _from,
    uint16 _dstChainId,
    bytes32 _toAddress,
    uint256 _amount,
    uint256 _minAmount,
    LzCallParams calldata _callParams
)
    external
    payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="irateprovider"><a class="header" href="#irateprovider">IRateProvider</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IRateProvider.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="getrate"><a class="header" href="#getrate">getRate</a></h3>
<p>getRate()</p>
<p><em>Returns the current rate of a given asset.</em></p>
<pre><code class="language-solidity">function getRate() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The current rate of the asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="istakingmodule"><a class="header" href="#istakingmodule">IStakingModule</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/IStakingModule.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="deposit-3"><a class="header" href="#deposit-3">deposit</a></h3>
<p><em>Allows users to deposit funds into the contract.</em></p>
<pre><code class="language-solidity">function deposit(ValidatorData calldata data, bytes32 latestDepositRoot) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>data</code></td><td><code>ValidatorData</code></td><td>ValidatorData calldata containing the validator's public key, withdrawal credentials, and amount of tokens to be deposited.</td></tr>
<tr><td><code>latestDepositRoot</code></td><td><code>bytes32</code></td><td>bytes32 containing the latest deposit root.</td></tr>
</tbody></table>
</div>
<h3 id="validators"><a class="header" href="#validators">validators</a></h3>
<pre><code class="language-solidity">function validators() external view returns (uint256);
</code></pre>
<h3 id="meveth"><a class="header" href="#meveth">mevEth</a></h3>
<pre><code class="language-solidity">function mevEth() external view returns (address);
</code></pre>
<h3 id="validator_deposit_size"><a class="header" href="#validator_deposit_size">VALIDATOR_DEPOSIT_SIZE</a></h3>
<p>VALIDATOR_DEPOSIT_SIZE()
This function returns the size of the validator deposit.</p>
<p><em>This function is used to determine the size of the validator deposit. It is used to ensure that validators have the correct amount of funds in order
to participate in the network.</em></p>
<pre><code class="language-solidity">function VALIDATOR_DEPOSIT_SIZE() external view returns (uint256);
</code></pre>
<h3 id="payrewards-1"><a class="header" href="#payrewards-1">payRewards</a></h3>
<p>This function is used to pay rewards to the users.</p>
<p><em>This function is used to pay rewards to the users. It takes in a uint256 rewards parameter which is the amount of rewards to be paid.</em></p>
<pre><code class="language-solidity">function payRewards(uint256 rewards) external;
</code></pre>
<h3 id="payvalidatorwithdraw"><a class="header" href="#payvalidatorwithdraw">payValidatorWithdraw</a></h3>
<p>This function allows a validator to withdraw their rewards from the contract.</p>
<p><em>This function is called by a validator to withdraw their rewards from the contract. It will transfer the rewards to the validator's address.</em></p>
<pre><code class="language-solidity">function payValidatorWithdraw() external;
</code></pre>
<h3 id="recovertoken-1"><a class="header" href="#recovertoken-1">recoverToken</a></h3>
<pre><code class="language-solidity">function recoverToken(address token, address recipient, uint256 amount) external;
</code></pre>
<h3 id="record"><a class="header" href="#record">record</a></h3>
<p>record() function is used to record the data in the smart contract.</p>
<p><em>record() function takes no parameters and returns four uint128 values.</em></p>
<pre><code class="language-solidity">function record() external returns (uint128, uint128, uint128, uint128);
</code></pre>
<h3 id="registerexit"><a class="header" href="#registerexit">registerExit</a></h3>
<p>registerExit() allows users to exit the system.</p>
<p><em>registerExit() is a function that allows users to exit the system. It is triggered by an external call.</em></p>
<pre><code class="language-solidity">function registerExit() external;
</code></pre>
<h3 id="batchmigrate"><a class="header" href="#batchmigrate">batchMigrate</a></h3>
<pre><code class="language-solidity">function batchMigrate(IStakingModule.ValidatorData[] calldata batchData) external;
</code></pre>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="validatordata"><a class="header" href="#validatordata">ValidatorData</a></h3>
<p><em>Structure for passing information about the validator deposit data.</em></p>
<pre><code class="language-solidity">struct ValidatorData {
    address operator;
    bytes pubkey;
    bytes32 withdrawal_credentials;
    bytes signature;
    bytes32 deposit_data_root;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itinymeveth"><a class="header" href="#itinymeveth">ITinyMevEth</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/interfaces/ITinyMevEth.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<p>smol interface for interacting with MevEth</p>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="grantrewards"><a class="header" href="#grantrewards">grantRewards</a></h3>
<p>This function is payable and should be called with the amount of rewards to be granted.</p>
<p><em>Function to grant rewards to other users.</em></p>
<pre><code class="language-solidity">function grantRewards() external payable;
</code></pre>
<h3 id="grantvalidatorwithdraw"><a class="header" href="#grantvalidatorwithdraw">grantValidatorWithdraw</a></h3>
<p>This function must be called with a validator address and a payable amount.</p>
<p><em>Function to allow a validator to withdraw funds from the contract.</em></p>
<pre><code class="language-solidity">function grantValidatorWithdraw() external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/libraries/Auth.sol/contract.Auth.html">Auth</a></li>
<li><a href="src/libraries/AuthManager.sol/contract.AuthManager.html">AuthManager</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="auth"><a class="header" href="#auth">Auth</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/libraries/Auth.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="adminscounter"><a class="header" href="#adminscounter">adminsCounter</a></h3>
<pre><code class="language-solidity">uint8 adminsCounter;
</code></pre>
<h3 id="operators-1"><a class="header" href="#operators-1">operators</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public operators;
</code></pre>
<h3 id="admins-1"><a class="header" href="#admins-1">admins</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public admins;
</code></pre>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<p>This constructor sets the initialAdmin address as an admin and operator.</p>
<p><em>The adminsCounter is incremented unchecked.</em></p>
<pre><code class="language-solidity">constructor(address initialAdmin);
</code></pre>
<h3 id="onlyadmin"><a class="header" href="#onlyadmin">onlyAdmin</a></h3>
<pre><code class="language-solidity">modifier onlyAdmin();
</code></pre>
<h3 id="onlyoperator"><a class="header" href="#onlyoperator">onlyOperator</a></h3>
<pre><code class="language-solidity">modifier onlyOperator();
</code></pre>
<h3 id="addadmin-1"><a class="header" href="#addadmin-1">addAdmin</a></h3>
<p>addAdmin() function allows an admin to add a new admin to the contract.</p>
<p><em>This function is only accessible to the existing admins and requires the address of the new admin.
If the new admin is already set, the function will revert. Otherwise, the adminsCounter will be incremented and the new admin will be added to the admins
mapping. An AdminAdded event will be emitted.</em></p>
<pre><code class="language-solidity">function addAdmin(address newAdmin) external onlyAdmin;
</code></pre>
<h3 id="deleteadmin-1"><a class="header" href="#deleteadmin-1">deleteAdmin</a></h3>
<p>Deletes an admin from the list of admins.</p>
<p><em>Only admins can delete other admins. If the adminsCounter is 0, the transaction will revert.</em></p>
<pre><code class="language-solidity">function deleteAdmin(address oldAdmin) external onlyAdmin;
</code></pre>
<h3 id="addoperator-1"><a class="header" href="#addoperator-1">addOperator</a></h3>
<p>Adds a new operator to the list of operators</p>
<p><em>Only the admin can add a new operator</em></p>
<pre><code class="language-solidity">function addOperator(address newOperator) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newOperator</code></td><td><code>address</code></td><td>The address of the new operator</td></tr>
</tbody></table>
</div>
<h3 id="deleteoperator-1"><a class="header" href="#deleteoperator-1">deleteOperator</a></h3>
<pre><code class="language-solidity">function deleteOperator(address oldOperator) external onlyAdmin;
</code></pre>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="adminadded-1"><a class="header" href="#adminadded-1">AdminAdded</a></h3>
<pre><code class="language-solidity">event AdminAdded(address indexed newAdmin);
</code></pre>
<h3 id="admindeleted-1"><a class="header" href="#admindeleted-1">AdminDeleted</a></h3>
<pre><code class="language-solidity">event AdminDeleted(address indexed oldAdmin);
</code></pre>
<h3 id="operatoradded-1"><a class="header" href="#operatoradded-1">OperatorAdded</a></h3>
<pre><code class="language-solidity">event OperatorAdded(address indexed newOperator);
</code></pre>
<h3 id="operatordeleted-1"><a class="header" href="#operatordeleted-1">OperatorDeleted</a></h3>
<pre><code class="language-solidity">event OperatorDeleted(address indexed oldOperator);
</code></pre>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="unauthorized"><a class="header" href="#unauthorized">Unauthorized</a></h3>
<pre><code class="language-solidity">error Unauthorized();
</code></pre>
<h3 id="alreadyset"><a class="header" href="#alreadyset">AlreadySet</a></h3>
<pre><code class="language-solidity">error AlreadySet();
</code></pre>
<h3 id="noadmin"><a class="header" href="#noadmin">NoAdmin</a></h3>
<pre><code class="language-solidity">error NoAdmin();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="authmanager"><a class="header" href="#authmanager">AuthManager</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/libraries/AuthManager.sol">Git Source</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<p>Periphery contract to unify Auth updates across MevEth, MevEthShareVault and WagyuStaker</p>
<p><em>deployment address should be added as admin in initial setup</em></p>
<p><em>contract addresses are upgradeable. To upgrade auth a redeploy is necessary</em></p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="auth-1"><a class="header" href="#auth-1">auth</a></h3>
<pre><code class="language-solidity">address public immutable auth;
</code></pre>
<h3 id="meveth-1"><a class="header" href="#meveth-1">mevEth</a></h3>
<pre><code class="language-solidity">address public mevEth;
</code></pre>
<h3 id="mevethsharevault"><a class="header" href="#mevethsharevault">mevEthShareVault</a></h3>
<pre><code class="language-solidity">address public mevEthShareVault;
</code></pre>
<h3 id="wagyustaker"><a class="header" href="#wagyustaker">wagyuStaker</a></h3>
<pre><code class="language-solidity">address public wagyuStaker;
</code></pre>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<pre><code class="language-solidity">constructor(address initialAdmin, address initialMevEth, address initialShareVault, address initialStaker);
</code></pre>
<h3 id="onlyauth"><a class="header" href="#onlyauth">onlyAuth</a></h3>
<pre><code class="language-solidity">modifier onlyAuth();
</code></pre>
<h3 id="updatemeveth"><a class="header" href="#updatemeveth">updateMevEth</a></h3>
<p>Updates the mevEth address</p>
<p><em>This function is only callable by the authorized address</em></p>
<pre><code class="language-solidity">function updateMevEth(address newMevEth) external onlyAuth;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newMevEth</code></td><td><code>address</code></td><td>The new mevEth address</td></tr>
</tbody></table>
</div>
<h3 id="updatemevethsharevault"><a class="header" href="#updatemevethsharevault">updateMevEthShareVault</a></h3>
<pre><code class="language-solidity">function updateMevEthShareVault(address newMevEthShareVault) external onlyAuth;
</code></pre>
<h3 id="updatewagyustaker"><a class="header" href="#updatewagyustaker">updateWagyuStaker</a></h3>
<pre><code class="language-solidity">function updateWagyuStaker(address newWagyuStaker) external onlyAuth;
</code></pre>
<h3 id="addadmin-2"><a class="header" href="#addadmin-2">addAdmin</a></h3>
<p>Adds a new admin to the MevEth, WagyuStaker, and MevEthShareVault contracts.</p>
<p><em>If the MevEthShareVault is a multisig, the <code>MevEthShareVaultAuthUpdateMissed</code> event is emitted.</em></p>
<pre><code class="language-solidity">function addAdmin(address newAdmin) external onlyAuth;
</code></pre>
<h3 id="deleteadmin-2"><a class="header" href="#deleteadmin-2">deleteAdmin</a></h3>
<pre><code class="language-solidity">function deleteAdmin(address oldAdmin) external onlyAuth;
</code></pre>
<h3 id="addoperator-2"><a class="header" href="#addoperator-2">addOperator</a></h3>
<pre><code class="language-solidity">function addOperator(address newOperator) external onlyAuth;
</code></pre>
<h3 id="deleteoperator-2"><a class="header" href="#deleteoperator-2">deleteOperator</a></h3>
<pre><code class="language-solidity">function deleteOperator(address oldOperator) external onlyAuth;
</code></pre>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<h3 id="mevethsharevaultauthupdatemissed"><a class="header" href="#mevethsharevaultauthupdatemissed">MevEthShareVaultAuthUpdateMissed</a></h3>
<p>emitted when MevEthShareVault is a multisig to log missed auth updates</p>
<p><em>missed updates will need to be manually added when upgrading from a multisig</em></p>
<pre><code class="language-solidity">event MevEthShareVaultAuthUpdateMissed(address changeAddress, Operation operation);
</code></pre>
<h2 id="errors-2"><a class="header" href="#errors-2">Errors</a></h2>
<h3 id="unauthorized-1"><a class="header" href="#unauthorized-1">Unauthorized</a></h3>
<pre><code class="language-solidity">error Unauthorized();
</code></pre>
<h2 id="enums"><a class="header" href="#enums">Enums</a></h2>
<h3 id="operation"><a class="header" href="#operation">Operation</a></h3>
<pre><code class="language-solidity">enum Operation {
    ADDADMIN,
    DELETEADMIN,
    ADDOPERATOR,
    DELETEOPERATOR
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meveth-2"><a class="header" href="#meveth-2">MevEth</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/MevEth.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/MevEth.sol//gh-pages/src/src/libraries/Auth.sol/contract.Auth.html">Auth</a>, ERC20, <a href="src/MevEth.sol//gh-pages/src/src/interfaces/IERC4626.sol/interface.IERC4626.html">IERC4626</a>, <a href="src/MevEth.sol//gh-pages/src/src/interfaces/ITinyMevEth.sol/interface.ITinyMevEth.html">ITinyMevEth</a></p>
<p><strong>Author:</strong>
CommodityStream, Inc.</p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<p><em>Contract that allows deposit of ETH, for a Liquid Staking Receipt (LSR) in return.</em></p>
<p><em>LSR is represented through an ERC4626 token and interface.</em></p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="stakingpaused-1"><a class="header" href="#stakingpaused-1">stakingPaused</a></h3>
<p>Inidicates if staking is paused.</p>
<pre><code class="language-solidity">bool public stakingPaused;
</code></pre>
<h3 id="initialized"><a class="header" href="#initialized">initialized</a></h3>
<p>Indicates if contract is initialized.</p>
<pre><code class="language-solidity">bool public initialized;
</code></pre>
<h3 id="feedenominator"><a class="header" href="#feedenominator">feeDenominator</a></h3>
<p>withdraw fee denominator</p>
<pre><code class="language-solidity">uint16 internal constant feeDenominator = 10_000;
</code></pre>
<h3 id="pendingstakingmodulecommittedtimestamp"><a class="header" href="#pendingstakingmodulecommittedtimestamp">pendingStakingModuleCommittedTimestamp</a></h3>
<p>Timestamp when pending staking module update can be finalized.</p>
<pre><code class="language-solidity">uint64 public pendingStakingModuleCommittedTimestamp;
</code></pre>
<h3 id="pendingmevethsharevaultcommittedtimestamp"><a class="header" href="#pendingmevethsharevaultcommittedtimestamp">pendingMevEthShareVaultCommittedTimestamp</a></h3>
<p>Timestamp when pending mevEthShareVault update can be finalized.</p>
<pre><code class="language-solidity">uint64 public pendingMevEthShareVaultCommittedTimestamp;
</code></pre>
<h3 id="module_update_time_delay"><a class="header" href="#module_update_time_delay">MODULE_UPDATE_TIME_DELAY</a></h3>
<p>Time delay before staking module or share vault can be finalized.</p>
<pre><code class="language-solidity">uint64 internal constant MODULE_UPDATE_TIME_DELAY = 7 days;
</code></pre>
<h3 id="max_deposit"><a class="header" href="#max_deposit">MAX_DEPOSIT</a></h3>
<p>Max amount of ETH that can be deposited.</p>
<pre><code class="language-solidity">uint128 internal constant MAX_DEPOSIT = type(uint128).max;
</code></pre>
<h3 id="min_deposit"><a class="header" href="#min_deposit">MIN_DEPOSIT</a></h3>
<p>Min amount of ETH that can be deposited.</p>
<pre><code class="language-solidity">uint128 public constant MIN_DEPOSIT = 0.01 ether;
</code></pre>
<h3 id="min_withdrawal"><a class="header" href="#min_withdrawal">MIN_WITHDRAWAL</a></h3>
<p>Min amount of ETH that can be withdrawn via the queue.</p>
<pre><code class="language-solidity">uint128 public MIN_WITHDRAWAL;
</code></pre>
<h3 id="mevethsharevault-1"><a class="header" href="#mevethsharevault-1">mevEthShareVault</a></h3>
<p>The address of the MevEthShareVault.</p>
<pre><code class="language-solidity">address public mevEthShareVault;
</code></pre>
<h3 id="pendingmevethsharevault"><a class="header" href="#pendingmevethsharevault">pendingMevEthShareVault</a></h3>
<p>The address of the pending MevEthShareVault when a new vault has been committed but not finalized.</p>
<pre><code class="language-solidity">address public pendingMevEthShareVault;
</code></pre>
<h3 id="stakingmodule"><a class="header" href="#stakingmodule">stakingModule</a></h3>
<p>The staking module used to stake Ether.</p>
<pre><code class="language-solidity">IStakingModule public stakingModule;
</code></pre>
<h3 id="pendingstakingmodule"><a class="header" href="#pendingstakingmodule">pendingStakingModule</a></h3>
<p>The pending staking module when a new module has been committed but not finalized.</p>
<pre><code class="language-solidity">IStakingModule public pendingStakingModule;
</code></pre>
<h3 id="weth9"><a class="header" href="#weth9">WETH9</a></h3>
<p>WETH Implementation used by MevEth.</p>
<pre><code class="language-solidity">WETH public immutable WETH9;
</code></pre>
<h3 id="lastrewards"><a class="header" href="#lastrewards">lastRewards</a></h3>
<p>Last rewards payment by block number</p>
<pre><code class="language-solidity">uint256 internal lastRewards;
</code></pre>
<h3 id="fraction"><a class="header" href="#fraction">fraction</a></h3>
<p>Struct used to accounting the ETH staked within MevEth.</p>
<pre><code class="language-solidity">Fraction public fraction;
</code></pre>
<h3 id="cream_to_mev_eth_percent"><a class="header" href="#cream_to_mev_eth_percent">CREAM_TO_MEV_ETH_PERCENT</a></h3>
<p>The percent out of 1000 crETH2 can be redeemed for as mevEth</p>
<pre><code class="language-solidity">uint256 public constant CREAM_TO_MEV_ETH_PERCENT = 1130;
</code></pre>
<h3 id="creamtoken"><a class="header" href="#creamtoken">creamToken</a></h3>
<p>The canonical address of the crETH2 address</p>
<pre><code class="language-solidity">address public constant creamToken = 0x49D72e3973900A195A155a46441F0C08179FdB64;
</code></pre>
<h3 id="lastdeposit"><a class="header" href="#lastdeposit">lastDeposit</a></h3>
<p>Sandwich protection mapping of last user deposits by block number</p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) lastDeposit;
</code></pre>
<h3 id="depositedvalidators"><a class="header" href="#depositedvalidators">depositedValidators</a></h3>
<p>Deposited validators mapping to prevent double deposits</p>
<pre><code class="language-solidity">mapping(bytes =&gt; bool) depositedValidators;
</code></pre>
<h3 id="queuelength"><a class="header" href="#queuelength">queueLength</a></h3>
<p>The length of the withdrawal queue.</p>
<pre><code class="language-solidity">uint256 public queueLength;
</code></pre>
<h3 id="requestsfinaliseduntil"><a class="header" href="#requestsfinaliseduntil">requestsFinalisedUntil</a></h3>
<p>mark the latest withdrawal request that was finalised</p>
<pre><code class="language-solidity">uint256 public requestsFinalisedUntil;
</code></pre>
<h3 id="withdrawalamountqueued"><a class="header" href="#withdrawalamountqueued">withdrawalAmountQueued</a></h3>
<p>Withdrawal amount queued</p>
<pre><code class="language-solidity">uint256 public withdrawalAmountQueued;
</code></pre>
<h3 id="withdrawalqueue"><a class="header" href="#withdrawalqueue">withdrawalQueue</a></h3>
<p>The mapping representing the withdrawal queue.</p>
<p><em>The index in the queue is the key, and the value is the WithdrawalTicket.</em></p>
<pre><code class="language-solidity">mapping(uint256 ticketNumber =&gt; WithdrawalTicket ticket) public withdrawalQueue;
</code></pre>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<p>Construction creates mevETH token, sets authority and weth address.</p>
<p><em>Pending staking module and committed timestamp will both be zero on deployment.</em></p>
<pre><code class="language-solidity">constructor(address authority, address weth) Auth(authority) ERC20(&quot;Mev Liquid Staking Receipt&quot;, &quot;mevETH&quot;, 18);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>authority</code></td><td><code>address</code></td><td>Address of the controlling admin authority.</td></tr>
<tr><td><code>weth</code></td><td><code>address</code></td><td>Address of the WETH contract to use for deposits.</td></tr>
</tbody></table>
</div>
<h3 id="calculateneededetherbuffer"><a class="header" href="#calculateneededetherbuffer">calculateNeededEtherBuffer</a></h3>
<p>Calculate the needed Ether buffer required when creating a new validator.</p>
<pre><code class="language-solidity">function calculateNeededEtherBuffer() public view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The required Ether buffer.</td></tr>
</tbody></table>
</div>
<h3 id="init"><a class="header" href="#init">init</a></h3>
<p>Initializes the MevEth contract, setting the staking module and share vault addresses.</p>
<p><em>This function can only be called once and is protected by the onlyAdmin modifier.</em></p>
<pre><code class="language-solidity">function init(address initialShareVault, address initialStakingModule) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>initialShareVault</code></td><td><code>address</code></td><td>The initial share vault set during initialization.</td></tr>
<tr><td><code>initialStakingModule</code></td><td><code>address</code></td><td>The initial staking module set during initialization.</td></tr>
</tbody></table>
</div>
<h3 id="_stakingunpaused"><a class="header" href="#_stakingunpaused">_stakingUnpaused</a></h3>
<p>Ensures that staking is not paused when invoking a specific function.</p>
<p><em>This check is used on the createValidator, deposit and mint functions.</em></p>
<pre><code class="language-solidity">function _stakingUnpaused() internal view;
</code></pre>
<h3 id="pausestaking"><a class="header" href="#pausestaking">pauseStaking</a></h3>
<p>Pauses staking on the MevEth contract.</p>
<p><em>This function is only callable by addresses with the admin role.</em></p>
<pre><code class="language-solidity">function pauseStaking() external onlyAdmin;
</code></pre>
<h3 id="unpausestaking"><a class="header" href="#unpausestaking">unpauseStaking</a></h3>
<p>Unauses staking on the MevEth contract.</p>
<p><em>This function is only callable by addresses with the admin role.</em></p>
<pre><code class="language-solidity">function unpauseStaking() external onlyAdmin;
</code></pre>
<h3 id="commitupdatestakingmodule"><a class="header" href="#commitupdatestakingmodule">commitUpdateStakingModule</a></h3>
<p>Starts the process to update the staking module.
To finalize the update, the MODULE_UPDATE_TIME_DELAY must elapse
and thefinalizeUpdateStakingModule function must be called.</p>
<p><em>This function is only callable by addresses with the admin role.</em></p>
<pre><code class="language-solidity">function commitUpdateStakingModule(IStakingModule newModule) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newModule</code></td><td><code>IStakingModule</code></td><td>The new staking module.</td></tr>
</tbody></table>
</div>
<h3 id="finalizeupdatestakingmodule"><a class="header" href="#finalizeupdatestakingmodule">finalizeUpdateStakingModule</a></h3>
<p>Finalizes the staking module update if a pending staking module exists.</p>
<p><em>This function is only callable by addresses with the admin role.</em></p>
<pre><code class="language-solidity">function finalizeUpdateStakingModule() external onlyAdmin;
</code></pre>
<h3 id="cancelupdatestakingmodule"><a class="header" href="#cancelupdatestakingmodule">cancelUpdateStakingModule</a></h3>
<p>Cancels a pending staking module update.</p>
<p><em>This function is only callable by addresses with the admin role.</em></p>
<pre><code class="language-solidity">function cancelUpdateStakingModule() external onlyAdmin;
</code></pre>
<h3 id="commitupdatemevethsharevault"><a class="header" href="#commitupdatemevethsharevault">commitUpdateMevEthShareVault</a></h3>
<p>Starts the process to update the share vault. To finalize the update, the MODULE_UPDATE_TIME_DELAY must elapse and the
finalizeUpdateStakingModule function must be called.</p>
<p><em>This function is only callable by addresses with the admin role</em></p>
<pre><code class="language-solidity">function commitUpdateMevEthShareVault(address newMevEthShareVault) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newMevEthShareVault</code></td><td><code>address</code></td><td>The new share vault</td></tr>
</tbody></table>
</div>
<h3 id="finalizeupdatemevethsharevault"><a class="header" href="#finalizeupdatemevethsharevault">finalizeUpdateMevEthShareVault</a></h3>
<p>Finalizes the share vault update if a pending share vault exists.</p>
<p><em>This function is only callable by addresses with the admin role.</em></p>
<pre><code class="language-solidity">function finalizeUpdateMevEthShareVault() external onlyAdmin;
</code></pre>
<h3 id="cancelupdatemevethsharevault"><a class="header" href="#cancelupdatemevethsharevault">cancelUpdateMevEthShareVault</a></h3>
<p>Cancels a pending share vault update.</p>
<p><em>This function is only callable by addresses with the admin role.</em></p>
<pre><code class="language-solidity">function cancelUpdateMevEthShareVault() external onlyAdmin;
</code></pre>
<h3 id="createvalidator"><a class="header" href="#createvalidator">createValidator</a></h3>
<p>This function passes through the needed Ether to the Staking module, and the assosiated credentials with it</p>
<p><em>This function is only callable by addresses with the operator role and if staking is unpaused</em></p>
<pre><code class="language-solidity">function createValidator(IStakingModule.ValidatorData calldata newData, bytes32 latestDepositRoot) external onlyOperator;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newData</code></td><td><code>IStakingModule.ValidatorData</code></td><td>The data needed to create a new validator</td></tr>
<tr><td><code>latestDepositRoot</code></td><td><code>bytes32</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="grantrewards-1"><a class="header" href="#grantrewards-1">grantRewards</a></h3>
<p>Grants rewards updating the fraction.elastic.</p>
<p><em>called from validator rewards updates</em></p>
<pre><code class="language-solidity">function grantRewards() external payable;
</code></pre>
<h3 id="grantvalidatorwithdraw-1"><a class="header" href="#grantvalidatorwithdraw-1">grantValidatorWithdraw</a></h3>
<p>Allows the MevEthShareVault or the staking module to withdraw validator funds from the contract.</p>
<p><em>Before updating the fraction, the withdrawal queue is processed, which pays out any pending withdrawals.</em></p>
<p><em>This function is only callable by the MevEthShareVault or the staking module.</em></p>
<pre><code class="language-solidity">function grantValidatorWithdraw() external payable;
</code></pre>
<h3 id="claim"><a class="header" href="#claim">claim</a></h3>
<p>Claim Finalised Withdrawal Ticket</p>
<pre><code class="language-solidity">function claim(uint256 withdrawalId) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>withdrawalId</code></td><td><code>uint256</code></td><td>Unique ID of the withdrawal ticket</td></tr>
</tbody></table>
</div>
<h3 id="processwithdrawalqueue"><a class="header" href="#processwithdrawalqueue">processWithdrawalQueue</a></h3>
<p>Processes the withdrawal queue, reserving any pending withdrawals with the contract's available balance.</p>
<pre><code class="language-solidity">function processWithdrawalQueue(uint256 newRequestsFinalisedUntil) external onlyOperator;
</code></pre>
<h3 id="setminwithdrawal"><a class="header" href="#setminwithdrawal">setMinWithdrawal</a></h3>
<pre><code class="language-solidity">function setMinWithdrawal(uint128 newMinimum) public onlyAdmin;
</code></pre>
<h3 id="asset-1"><a class="header" href="#asset-1">asset</a></h3>
<p>The underlying asset of the mevEth contract</p>
<pre><code class="language-solidity">function asset() external view returns (address assetTokenAddress);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetTokenAddress</code></td><td><code>address</code></td><td>The address of the asset token</td></tr>
</tbody></table>
</div>
<h3 id="totalassets-1"><a class="header" href="#totalassets-1">totalAssets</a></h3>
<p>The total amount of assets controlled by the mevEth contract</p>
<pre><code class="language-solidity">function totalAssets() external view returns (uint256 totalManagedAssets);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalManagedAssets</code></td><td><code>uint256</code></td><td>The amount of eth controlled by the mevEth contract</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-1"><a class="header" href="#converttoshares-1">convertToShares</a></h3>
<p>Function to convert a specified amount of assets to shares based on the elastic and base.</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets) public view returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets to convert to shares</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The value of the given assets in shares</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-2"><a class="header" href="#converttoassets-2">convertToAssets</a></h3>
<p>Function to convert a specified amount of shares to assets based on the elastic and base.</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) public view returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares to convert to assets</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The value of the given shares in assets</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit-1"><a class="header" href="#maxdeposit-1">maxDeposit</a></h3>
<p>Function to indicate the maximum deposit possible.</p>
<pre><code class="language-solidity">function maxDeposit(address) external view returns (uint256 maxAssets);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxAssets</code></td><td><code>uint256</code></td><td>The maximum amount of assets that can be deposited.</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-1"><a class="header" href="#previewdeposit-1">previewDeposit</a></h3>
<p>Function to simulate the amount of shares that would be minted for a given deposit at the current ratio.</p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets) external view returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that would be deposited</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that would be minted, <em>under ideal conditions</em> only</td></tr>
</tbody></table>
</div>
<h3 id="_deposit"><a class="header" href="#_deposit">_deposit</a></h3>
<p>internal deposit function to process Weth or Eth deposits</p>
<pre><code class="language-solidity">function _deposit(address receiver, uint256 assets, uint256 shares) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should receive the mevEth out</td></tr>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets to deposit</td></tr>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that should be minted</td></tr>
</tbody></table>
</div>
<h3 id="deposit-4"><a class="header" href="#deposit-4">deposit</a></h3>
<p>Function to deposit assets into the mevEth contract</p>
<pre><code class="language-solidity">function deposit(uint256 assets, address receiver) external payable returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of WETH which should be deposited</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should receive the mevEth out</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="maxmint-1"><a class="header" href="#maxmint-1">maxMint</a></h3>
<p>Function to indicate the maximum amount of shares that can be minted at the current ratio.</p>
<pre><code class="language-solidity">function maxMint(address) external view returns (uint256 maxShares);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxShares</code></td><td><code>uint256</code></td><td>The maximum amount of shares that can be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-1"><a class="header" href="#previewmint-1">previewMint</a></h3>
<p>Function to simulate the amount of assets that would be required to mint a given amount of shares at the current ratio.</p>
<pre><code class="language-solidity">function previewMint(uint256 shares) external view returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that would be minted</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that would be required, <em>under ideal conditions</em> only</td></tr>
</tbody></table>
</div>
<h3 id="mint-1"><a class="header" href="#mint-1">mint</a></h3>
<p>Function to mint shares of the mevEth contract</p>
<pre><code class="language-solidity">function mint(uint256 shares, address receiver) external payable returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that should be minted</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should receive the mevEth out</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets deposited</td></tr>
</tbody></table>
</div>
<h3 id="maxwithdraw-1"><a class="header" href="#maxwithdraw-1">maxWithdraw</a></h3>
<p>Function to indicate the maximum amount of assets that can be withdrawn at the current state.</p>
<pre><code class="language-solidity">function maxWithdraw(address owner) external view returns (uint256 maxAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address in question of who would be withdrawing</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxAssets</code></td><td><code>uint256</code></td><td>The maximum amount of assets that can be withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-1"><a class="header" href="#previewwithdraw-1">previewWithdraw</a></h3>
<p>Function to simulate the amount of shares that would be allocated for a specified amount of assets.</p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets) external view returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that would be withdrawn</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that would be burned, <em>under ideal conditions</em> only</td></tr>
</tbody></table>
</div>
<h3 id="_withdraw"><a class="header" href="#_withdraw">_withdraw</a></h3>
<p>Function to withdraw assets from the mevEth contract</p>
<pre><code class="language-solidity">function _withdraw(bool useQueue, address receiver, address owner, uint256 assets, uint256 shares) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>useQueue</code></td><td><code>bool</code></td><td>Flag whether to use the withdrawal queue</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should receive the mevEth out</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the owner of the mevEth</td></tr>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that should be withdrawn</td></tr>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>shares that will be burned</td></tr>
</tbody></table>
</div>
<h3 id="_updateallowance"><a class="header" href="#_updateallowance">_updateAllowance</a></h3>
<p><em>internal function to update allowance for withdraws if necessary</em></p>
<pre><code class="language-solidity">function _updateAllowance(address owner, uint256 shares) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>owner of tokens</td></tr>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of shares to update</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-2"><a class="header" href="#withdraw-2">withdraw</a></h3>
<p>Withdraw assets if balance is available</p>
<pre><code class="language-solidity">function withdraw(uint256 assets, address receiver, address owner) external returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that should be withdrawn</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should receive the mevEth out</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the owner of the mevEth</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares burned</td></tr>
</tbody></table>
</div>
<h3 id="withdrawqueue"><a class="header" href="#withdrawqueue">withdrawQueue</a></h3>
<p>Withdraw assets or open queue ticket for claim depending on balance available</p>
<pre><code class="language-solidity">function withdrawQueue(uint256 assets, address receiver, address owner) external returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that should be withdrawn</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should receive the mevEth out</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the owner of the mevEth</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares burned</td></tr>
</tbody></table>
</div>
<h3 id="maxredeem-1"><a class="header" href="#maxredeem-1">maxRedeem</a></h3>
<p>Function to simulate the maximum amount of shares that can be redeemed by the owner.</p>
<pre><code class="language-solidity">function maxRedeem(address owner) external view returns (uint256 maxShares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address in question of who would be redeeming their shares</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxShares</code></td><td><code>uint256</code></td><td>The maximum amount of shares they could redeem</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-1"><a class="header" href="#previewredeem-1">previewRedeem</a></h3>
<p>Function to simulate the amount of assets that would be withdrawn for a specified amount of shares.</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares) external view returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that would be burned</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets that would be withdrawn, <em>under ideal conditions</em> only</td></tr>
</tbody></table>
</div>
<h3 id="redeem-1"><a class="header" href="#redeem-1">redeem</a></h3>
<p>Function to redeem shares from the mevEth contract</p>
<pre><code class="language-solidity">function redeem(uint256 shares, address receiver, address owner) external returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The amount of shares that should be burned</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address user whom should receive the wETH out</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the owner of the mevEth</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The amount of assets withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="max"><a class="header" href="#max">max</a></h3>
<p><em>Returns the largest of two numbers.</em></p>
<pre><code class="language-solidity">function max(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="min"><a class="header" href="#min">min</a></h3>
<p><em>Returns the smallest of two numbers.</em></p>
<pre><code class="language-solidity">function min(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="redeemcream"><a class="header" href="#redeemcream">redeemCream</a></h3>
<p>Redeem Cream staked eth tokens for mevETH at a fixed ratio</p>
<pre><code class="language-solidity">function redeemCream(uint256 creamAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creamAmount</code></td><td><code>uint256</code></td><td>The amount of Cream tokens to redeem</td></tr>
</tbody></table>
</div>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<p><em>Only Weth withdraw is defined for the behaviour. Deposits should be directed to deposit / mint. Rewards via grantRewards and validator withdraws
via grantValidatorWithdraw.</em></p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="transfer"><a class="header" href="#transfer">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 amount) public virtual override returns (bool);
</code></pre>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<h3 id="mevethinitialized"><a class="header" href="#mevethinitialized">MevEthInitialized</a></h3>
<p>Event emitted when the MevEth is successfully initialized.</p>
<pre><code class="language-solidity">event MevEthInitialized(address indexed mevEthShareVault, address indexed stakingModule);
</code></pre>
<h3 id="stakingpaused-2"><a class="header" href="#stakingpaused-2">StakingPaused</a></h3>
<p>Emitted when staking is paused.</p>
<pre><code class="language-solidity">event StakingPaused();
</code></pre>
<h3 id="stakingunpaused"><a class="header" href="#stakingunpaused">StakingUnpaused</a></h3>
<p>Emitted when staking is unpaused.</p>
<pre><code class="language-solidity">event StakingUnpaused();
</code></pre>
<h3 id="stakingmoduleupdatecommitted"><a class="header" href="#stakingmoduleupdatecommitted">StakingModuleUpdateCommitted</a></h3>
<p>Event emitted when a new staking module is committed.
The MODULE_UPDATE_TIME_DELAY must elapse before the staking module update can be finalized.</p>
<pre><code class="language-solidity">event StakingModuleUpdateCommitted(address indexed oldModule, address indexed pendingModule, uint64 indexed eligibleForFinalization);
</code></pre>
<h3 id="stakingmoduleupdatefinalized"><a class="header" href="#stakingmoduleupdatefinalized">StakingModuleUpdateFinalized</a></h3>
<p>Event emitted when a new staking module is finalized.</p>
<pre><code class="language-solidity">event StakingModuleUpdateFinalized(address indexed oldModule, address indexed newModule);
</code></pre>
<h3 id="stakingmoduleupdatecanceled"><a class="header" href="#stakingmoduleupdatecanceled">StakingModuleUpdateCanceled</a></h3>
<p>Event emitted when a new pending module update is canceled.</p>
<pre><code class="language-solidity">event StakingModuleUpdateCanceled(address indexed oldModule, address indexed pendingModule);
</code></pre>
<h3 id="mevethsharevaultupdatecommitted"><a class="header" href="#mevethsharevaultupdatecommitted">MevEthShareVaultUpdateCommitted</a></h3>
<p>Event emitted when a new share vault is committed. To finalize the update, the MODULE_UPDATE_TIME_DELAY must elapse and the
finalizeUpdateMevEthShareVault function must be called.</p>
<pre><code class="language-solidity">event MevEthShareVaultUpdateCommitted(address indexed oldVault, address indexed pendingVault, uint64 indexed eligibleForFinalization);
</code></pre>
<h3 id="mevethsharevaultupdatefinalized"><a class="header" href="#mevethsharevaultupdatefinalized">MevEthShareVaultUpdateFinalized</a></h3>
<p>Event emitted when a new share vault is finalized.</p>
<pre><code class="language-solidity">event MevEthShareVaultUpdateFinalized(address indexed oldVault, address indexed newVault);
</code></pre>
<h3 id="mevethsharevaultupdatecanceled"><a class="header" href="#mevethsharevaultupdatecanceled">MevEthShareVaultUpdateCanceled</a></h3>
<p>Event emitted when a new pending share vault update is canceled.</p>
<pre><code class="language-solidity">event MevEthShareVaultUpdateCanceled(address indexed oldVault, address indexed newVault);
</code></pre>
<h3 id="validatorcreated"><a class="header" href="#validatorcreated">ValidatorCreated</a></h3>
<p>Event emitted when a new validator is created</p>
<pre><code class="language-solidity">event ValidatorCreated(address indexed stakingModule, IStakingModule.ValidatorData newValidator);
</code></pre>
<h3 id="rewards"><a class="header" href="#rewards">Rewards</a></h3>
<p>Event emitted when rewards are granted.</p>
<pre><code class="language-solidity">event Rewards(address sender, uint256 amount);
</code></pre>
<h3 id="validatorwithdraw"><a class="header" href="#validatorwithdraw">ValidatorWithdraw</a></h3>
<p>Emitted when validator withdraw funds are received.</p>
<pre><code class="language-solidity">event ValidatorWithdraw(address sender, uint256 amount);
</code></pre>
<h3 id="withdrawalqueueopened"><a class="header" href="#withdrawalqueueopened">WithdrawalQueueOpened</a></h3>
<p>Event emitted when a withdrawal ticket is added to the queue.</p>
<pre><code class="language-solidity">event WithdrawalQueueOpened(address indexed recipient, uint256 indexed withdrawalId, uint256 assets);
</code></pre>
<h3 id="withdrawalqueueclosed"><a class="header" href="#withdrawalqueueclosed">WithdrawalQueueClosed</a></h3>
<pre><code class="language-solidity">event WithdrawalQueueClosed(address indexed recipient, uint256 indexed withdrawalId, uint256 assets);
</code></pre>
<h3 id="creamredeemed"><a class="header" href="#creamredeemed">CreamRedeemed</a></h3>
<pre><code class="language-solidity">event CreamRedeemed(address indexed redeemer, uint256 creamAmount, uint256 mevEthAmount);
</code></pre>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="fraction-1"><a class="header" href="#fraction-1">Fraction</a></h3>
<p>Central struct used for share accounting + math.</p>
<pre><code class="language-solidity">struct Fraction {
    uint128 elastic;
    uint128 base;
}
</code></pre>
<h3 id="withdrawalticket"><a class="header" href="#withdrawalticket">WithdrawalTicket</a></h3>
<p>Struct representing a withdrawal ticket which is added to the withdrawal queue.</p>
<pre><code class="language-solidity">struct WithdrawalTicket {
    bool claimed;
    address receiver;
    uint128 amount;
    uint128 accumulatedAmount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mevethrateprovider"><a class="header" href="#mevethrateprovider">MevETHRateProvider</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/MevEthRateProvider.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/MevEthRateProvider.sol//gh-pages/src/src/interfaces/IRateProvider.sol/interface.IRateProvider.html">IRateProvider</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<p>Returns the value of mevETH in terms of ETH</p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="meveth-3"><a class="header" href="#meveth-3">mevETH</a></h3>
<p>The address of the mevETH contract</p>
<pre><code class="language-solidity">IMevEth public immutable mevETH;
</code></pre>
<h2 id="functions-18"><a class="header" href="#functions-18">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<p>Constructs the MevETHRateProvider contract, setting the mevETH address</p>
<pre><code class="language-solidity">constructor(IMevEth _mevETH);
</code></pre>
<h3 id="getrate-1"><a class="header" href="#getrate-1">getRate</a></h3>
<p>Returns the value of mevETH in terms of ETH</p>
<pre><code class="language-solidity">function getRate() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>the value of mevETH in terms of ETH</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mevethsharevault-2"><a class="header" href="#mevethsharevault-2">MevEthShareVault</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/MevEthShareVault.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/MevEthShareVault.sol//gh-pages/src/src/libraries/Auth.sol/contract.Auth.html">Auth</a>, <a href="src/MevEthShareVault.sol//gh-pages/src/src/interfaces/IMevEthShareVault.sol/interface.IMevEthShareVault.html">IMevEthShareVault</a></p>
<p><strong>Author:</strong>
Manifold Finance</p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<p>This contract controls the ETH Rewards earned by mevEth</p>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="protocolbalance"><a class="header" href="#protocolbalance">protocolBalance</a></h3>
<p>ProtocolBalance struct to account for the protocol fees and rewards.</p>
<pre><code class="language-solidity">ProtocolBalance public protocolBalance;
</code></pre>
<h3 id="meveth-4"><a class="header" href="#meveth-4">mevEth</a></h3>
<p>The address of the MevEth contract.</p>
<pre><code class="language-solidity">address public mevEth;
</code></pre>
<h3 id="protocolfeeto"><a class="header" href="#protocolfeeto">protocolFeeTo</a></h3>
<p>The address that protocol fees are sent to.</p>
<pre><code class="language-solidity">address public protocolFeeTo;
</code></pre>
<h2 id="functions-19"><a class="header" href="#functions-19">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<p>Construction sets authority, MevEth, and averageFeeRewardsPerBlock.</p>
<pre><code class="language-solidity">constructor(address authority, address _mevEth, address _protocolFeeTo) Auth(authority);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>authority</code></td><td><code>address</code></td><td>The address of the controlling admin authority.</td></tr>
<tr><td><code>_mevEth</code></td><td><code>address</code></td><td>The address of the WETH contract to use for deposits.</td></tr>
<tr><td><code>_protocolFeeTo</code></td><td><code>address</code></td><td>The address that protocol fees are sent to.</td></tr>
</tbody></table>
</div>
<h3 id="payrewards-2"><a class="header" href="#payrewards-2">payRewards</a></h3>
<p>Function to pay rewards to the MevEth contract</p>
<p><em>Only callable by an operator.</em></p>
<pre><code class="language-solidity">function payRewards(uint256 rewards) external onlyOperator;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>rewards</code></td><td><code>uint256</code></td><td>rewards to pay to the MevEth contract</td></tr>
</tbody></table>
</div>
<h3 id="sendfees-1"><a class="header" href="#sendfees-1">sendFees</a></h3>
<p>Function to collect the fees owed to the prorotocol.</p>
<pre><code class="language-solidity">function sendFees(uint256 fees) external onlyAdmin;
</code></pre>
<h3 id="setprotocolfeeto-1"><a class="header" href="#setprotocolfeeto-1">setProtocolFeeTo</a></h3>
<pre><code class="language-solidity">function setProtocolFeeTo(address newProtocolFeeTo) external onlyAdmin;
</code></pre>
<h3 id="recovertoken-2"><a class="header" href="#recovertoken-2">recoverToken</a></h3>
<p>Function to recover tokens sent to the contract.</p>
<p><em>This function is only callable by an admin.</em></p>
<pre><code class="language-solidity">function recoverToken(address token, address recipient, uint256 amount) external onlyAdmin;
</code></pre>
<h3 id="setnewmeveth-1"><a class="header" href="#setnewmeveth-1">setNewMevEth</a></h3>
<p>Function to set a new mevEth address.</p>
<pre><code class="language-solidity">function setNewMevEth(address newMevEth) external onlyAdmin;
</code></pre>
<h3 id="payvalidatorwithdraw-1"><a class="header" href="#payvalidatorwithdraw-1">payValidatorWithdraw</a></h3>
<p>Function to pay MevEth when withdrawing funds from a validator</p>
<p><em>This function is only callable by an admin and emits an event for offchain validator registry tracking.</em></p>
<pre><code class="language-solidity">function payValidatorWithdraw() external onlyOperator;
</code></pre>
<h3 id="receive-1"><a class="header" href="#receive-1">receive</a></h3>
<p>Function to receive ETH.</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h2 id="events-5"><a class="header" href="#events-5">Events</a></h2>
<h3 id="rewardscollected"><a class="header" href="#rewardscollected">RewardsCollected</a></h3>
<p>Event emitted when the protocol balance is updated during logRewards</p>
<pre><code class="language-solidity">event RewardsCollected(uint256 indexed protocolFeesOwed, uint256 indexed rewardsOwed);
</code></pre>
<h3 id="tokenrecovered"><a class="header" href="#tokenrecovered">TokenRecovered</a></h3>
<p>Event emitted when a tokens are recovered from the contract.</p>
<pre><code class="language-solidity">event TokenRecovered(address indexed recipient, address indexed token, uint256 indexed amount);
</code></pre>
<h3 id="protocolfeetoupdated"><a class="header" href="#protocolfeetoupdated">ProtocolFeeToUpdated</a></h3>
<p>Event emitted when the protocolFeeTo address is updated.</p>
<pre><code class="language-solidity">event ProtocolFeeToUpdated(address indexed newProtocolFeeTo);
</code></pre>
<h3 id="feessent"><a class="header" href="#feessent">FeesSent</a></h3>
<p>Event emitted when the protocol fees are sent to the protocolFeeTo address.</p>
<pre><code class="language-solidity">event FeesSent(uint256 indexed feesSent);
</code></pre>
<h3 id="rewardspaid"><a class="header" href="#rewardspaid">RewardsPaid</a></h3>
<p>Event emitted when rewards are paid to the MevEth contract.</p>
<pre><code class="language-solidity">event RewardsPaid(uint256 indexed rewards);
</code></pre>
<h3 id="mevethupdated"><a class="header" href="#mevethupdated">MevEthUpdated</a></h3>
<p>Event emitted when the mevEth address is updated.</p>
<pre><code class="language-solidity">event MevEthUpdated(address indexed meveth);
</code></pre>
<h3 id="validatorwithdraw-1"><a class="header" href="#validatorwithdraw-1">ValidatorWithdraw</a></h3>
<p>Event emitted when funds representing a validator withdrawal are sent to the MevEth contract.</p>
<pre><code class="language-solidity">event ValidatorWithdraw(address sender, uint256 amount);
</code></pre>
<h2 id="structs-3"><a class="header" href="#structs-3">Structs</a></h2>
<h3 id="protocolbalance-1"><a class="header" href="#protocolbalance-1">ProtocolBalance</a></h3>
<p>Struct to account for the protocol fees and rewards.</p>
<pre><code class="language-solidity">struct ProtocolBalance {
    uint128 feesPaid;
    uint128 rewardsPaid;
    uint128 exitsPaid;
    uint128 totalWithdrawn;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wagyustaker-1"><a class="header" href="#wagyustaker-1">WagyuStaker</a></h1>
<p><a href="https://github.com/manifoldfinance/mevETH2/blob/905548a3b96c287a71a9e1307900b2e1addf72f8/src/WagyuStaker.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/WagyuStaker.sol//gh-pages/src/src/libraries/Auth.sol/contract.Auth.html">Auth</a>, <a href="src/WagyuStaker.sol//gh-pages/src/src/interfaces/IStakingModule.sol/interface.IStakingModule.html">IStakingModule</a></p>
<p>SPDX-License-Identifier: SSPL-1.-0</p>
<p><em>This contract stakes Ether inside of the BeaconChainDepositContract directly</em></p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="record-1"><a class="header" href="#record-1">record</a></h3>
<p>Record of total deposits, withdraws, rewards paid and validators exited</p>
<pre><code class="language-solidity">Record public record;
</code></pre>
<h3 id="validators-1"><a class="header" href="#validators-1">validators</a></h3>
<p>The number of validators on the consensus layer registered under this contract</p>
<pre><code class="language-solidity">uint256 public validators;
</code></pre>
<h3 id="meveth-5"><a class="header" href="#meveth-5">mevEth</a></h3>
<p>The address of the MevEth contract</p>
<pre><code class="language-solidity">address public mevEth;
</code></pre>
<h3 id="validator_deposit_size-1"><a class="header" href="#validator_deposit_size-1">VALIDATOR_DEPOSIT_SIZE</a></h3>
<p>Validator deposit size.</p>
<pre><code class="language-solidity">uint256 public constant override VALIDATOR_DEPOSIT_SIZE = 32 ether;
</code></pre>
<h3 id="beacon_chain_deposit_contract"><a class="header" href="#beacon_chain_deposit_contract">BEACON_CHAIN_DEPOSIT_CONTRACT</a></h3>
<p>The Canonical Address of the BeaconChainDepositContract</p>
<pre><code class="language-solidity">IBeaconDepositContract public immutable BEACON_CHAIN_DEPOSIT_CONTRACT;
</code></pre>
<h2 id="functions-20"><a class="header" href="#functions-20">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<p>Construction sets authority, MevEth, and deposit contract addresses</p>
<pre><code class="language-solidity">constructor(address _authority, address _depositContract, address _mevEth) Auth(_authority);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_authority</code></td><td><code>address</code></td><td>The address of the controlling admin authority</td></tr>
<tr><td><code>_depositContract</code></td><td><code>address</code></td><td>The address of the beacon deposit contract</td></tr>
<tr><td><code>_mevEth</code></td><td><code>address</code></td><td>The address of the mevETH contract</td></tr>
</tbody></table>
</div>
<h3 id="deposit-5"><a class="header" href="#deposit-5">deposit</a></h3>
<p>Function to deposit funds into the BEACON_CHAIN_DEPOSIT_CONTRACT, and register a validator</p>
<pre><code class="language-solidity">function deposit(IStakingModule.ValidatorData calldata data, bytes32 latestDepositRoot) external payable;
</code></pre>
<h3 id="payrewards-3"><a class="header" href="#payrewards-3">payRewards</a></h3>
<p>Function to pay rewards to the MevEth contract</p>
<p><em>Only callable by an operator</em></p>
<pre><code class="language-solidity">function payRewards(uint256 rewards) external onlyOperator;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>rewards</code></td><td><code>uint256</code></td><td>rewards to pay to the MevEth contract</td></tr>
</tbody></table>
</div>
<h3 id="registerexit-1"><a class="header" href="#registerexit-1">registerExit</a></h3>
<pre><code class="language-solidity">function registerExit() external;
</code></pre>
<h3 id="payvalidatorwithdraw-2"><a class="header" href="#payvalidatorwithdraw-2">payValidatorWithdraw</a></h3>
<p>Function to pay MevEth when withdrawing funds from a validator</p>
<p><em>This function is only callable by an operator and emits an event for offchain validator registry tracking.</em></p>
<pre><code class="language-solidity">function payValidatorWithdraw() external onlyOperator;
</code></pre>
<h3 id="recovertoken-3"><a class="header" href="#recovertoken-3">recoverToken</a></h3>
<p>Function to recover tokens sent to the contract.</p>
<p><em>This function is only callable by an admin.</em></p>
<pre><code class="language-solidity">function recoverToken(address token, address recipient, uint256 amount) external onlyAdmin;
</code></pre>
<h3 id="setnewmeveth-2"><a class="header" href="#setnewmeveth-2">setNewMevEth</a></h3>
<p>Function to set a new mevEth address.</p>
<pre><code class="language-solidity">function setNewMevEth(address newMevEth) external onlyAdmin;
</code></pre>
<h3 id="batchmigrate-1"><a class="header" href="#batchmigrate-1">batchMigrate</a></h3>
<p>Batch register Validators for migration</p>
<p><em>only Admin</em></p>
<pre><code class="language-solidity">function batchMigrate(IStakingModule.ValidatorData[] calldata batchData) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>batchData</code></td><td><code>IStakingModule.ValidatorData[]</code></td><td>list of each validators' data struct</td></tr>
</tbody></table>
</div>
<h3 id="receive-2"><a class="header" href="#receive-2">receive</a></h3>
<p>Function to receive Ether</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h2 id="events-6"><a class="header" href="#events-6">Events</a></h2>
<h3 id="newvalidator"><a class="header" href="#newvalidator">NewValidator</a></h3>
<p>Event emitted when a validator is registered</p>
<pre><code class="language-solidity">event NewValidator(address indexed operator, bytes pubkey, bytes32 withdrawalCredentials, bytes signature, bytes32 deposit_data_root);
</code></pre>
<h3 id="tokenrecovered-1"><a class="header" href="#tokenrecovered-1">TokenRecovered</a></h3>
<p>Event emitted when tokens are recovered from the contract.</p>
<pre><code class="language-solidity">event TokenRecovered(address indexed recipient, address indexed token, uint256 indexed amount);
</code></pre>
<h3 id="rewardspaid-1"><a class="header" href="#rewardspaid-1">RewardsPaid</a></h3>
<p>Event emitted when rewards are paid to the MevEth contract.</p>
<pre><code class="language-solidity">event RewardsPaid(uint256 indexed amount);
</code></pre>
<h3 id="validatorwithdraw-2"><a class="header" href="#validatorwithdraw-2">ValidatorWithdraw</a></h3>
<p>Event emitted when funds representing a validator withdrawal are sent to the MevEth contract.</p>
<pre><code class="language-solidity">event ValidatorWithdraw(address sender, uint256 amount);
</code></pre>
<h3 id="mevethupdated-1"><a class="header" href="#mevethupdated-1">MevEthUpdated</a></h3>
<p>Event emitted when the mevEth address is updated.</p>
<pre><code class="language-solidity">event MevEthUpdated(address indexed meveth);
</code></pre>
<h2 id="structs-4"><a class="header" href="#structs-4">Structs</a></h2>
<h3 id="record-2"><a class="header" href="#record-2">Record</a></h3>
<pre><code class="language-solidity">struct Record {
    uint128 totalDeposited;
    uint128 totalWithdrawn;
    uint128 totalRewardsPaid;
    uint128 totalValidatorExitsPaid;
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
